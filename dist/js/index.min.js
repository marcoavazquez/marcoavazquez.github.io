const langs=["en","es"];let index=0;window.addEventListener("load",(function(){const e=document.querySelector("main");document.querySelector("#btn-cv").addEventListener("click",(function(){e.classList.toggle("hide"),document.body.classList.toggle("expanded")}));const t=document.querySelector("#title"),n=document.querySelector("#summary-title"),a=document.querySelector("#summary-content"),d=document.querySelector("#skills-title"),i=document.querySelector("#resume-title"),c=document.querySelector("#resume-content"),l=document.querySelector("#contact-title"),o=document.querySelector("#languages-title"),r=document.querySelector("#languages-content"),m=document.querySelector("#education-title"),s=document.querySelector("#education-content"),u=new URLSearchParams(window.location.search).get("lang")||"en";index=langs.indexOf(u),-1===index&&(index=0),data&&(t.innerText=data.title[index],n.innerHTML=data.summary.title[index],a.innerHTML=data.summary.content[index],d.innerHTML=data.skills.title[index],l.innerHTML=data.contanct[index],o.innerHTML=data.languages.title[index],m.innerHTML=data.education.title[index],i.innerHTML=data.experience.title[index],data.experience.items.map((e=>{c.appendChild(createResumeItem(e,u))})),data.languages.items.map((e=>{const t=document.createElement("li");t.innerHTML=e[index],r.appendChild(t)})),data.education.items.map((e=>{const t=document.createElement("li"),n=document.createElement("strong"),a=document.createElement("div"),d=document.createElement("small");n.innerHTML=e.degree[index],a.innerHTML=e.school,d.innerHTML=formatDate(e.date[0],u)+" - "+formatDate(e.date[1],u),t.appendChild(n),t.appendChild(a),t.appendChild(d),s.appendChild(t)})),this.document.title+="en"===u?"":" "+u.toUpperCase())}));const createResumeItem=function(e,t){const n=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),i=document.createElement("small"),c=document.createElement("div"),l=document.createElement("ul");return n.classList.add("xp"),a.classList.add("xp-place"),d.classList.add("xp-title"),i.classList.add("xp-date"),c.classList.add("xp-details"),n.appendChild(a),a.appendChild(d),a.appendChild(i),n.appendChild(c),c.appendChild(l),d.innerHTML=e.title[index]+" - "+e.company,i.innerHTML=formatDate(e.date[0],t)+" - "+formatDate(e.date[1],t),e.description.map((e=>{const t=document.createElement("li");t.innerHTML=e[index],l.appendChild(t)})),n},formatDate=function(e,t){if("today"===e)return"es"===t?"Hoy":"Today";return new Date(e+"-10").toLocaleString(t,{month:"short"})+" "+e.split("-")[0]};
