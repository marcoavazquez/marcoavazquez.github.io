async function getData(e){const t=await fetch("/data/"+e+".json");if(!t.ok)throw new Error("Error: "+t.status);return t.json()}function createResumeItem(e,t){const n=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div"),r=document.createElement("small"),o=document.createElement("div"),i=document.createElement("ul");return n.classList.add("xp"),a.classList.add("xp-place"),c.classList.add("xp-title"),r.classList.add("xp-date"),o.classList.add("xp-details"),n.appendChild(a),a.appendChild(c),a.appendChild(r),n.appendChild(o),o.appendChild(i),c.innerHTML=e.title+" - "+e.company,r.innerHTML=formatDate(e.date[0],t)+" - "+formatDate(e.date[1],t),e.details.forEach((e=>{const t=document.createElement("li");t.innerHTML=e.description,i.appendChild(t)})),n}function createLangItem(e){const t=document.createElement("li");return t.innerHTML=e,t}function createEducationItem(e,t){const n=document.createElement("li"),a=document.createElement("strong"),c=document.createElement("div"),r=document.createElement("small");return a.innerHTML=e.degree,c.innerHTML=e.school,r.innerHTML=formatDate(e.date[0],t)+" - "+formatDate(e.date[1],t),n.appendChild(a),n.appendChild(c),n.appendChild(r),n}function formatDate(e,t){if("today"===e)return"es"===t?"Hoy":"Today";return new Date(e+"-10").toLocaleString(t,{month:"short"})+" "+e.split("-")[0]}window.addEventListener("DOMContentLoaded",(async function(){const e=document.querySelector("#title"),t=document.querySelector("#summary-title"),n=document.querySelector("#summary-content"),a=document.querySelector("#skills-title"),c=document.querySelector("#resume-title"),r=document.querySelector("#resume-content"),o=document.querySelector("#contact-title"),i=document.querySelector("#languages-title"),d=document.querySelector("#languages-content"),l=document.querySelector("#education-title"),u=document.querySelector("#education-content"),m=new URLSearchParams(window.location.search).get("lang")||"en",s=await getData(m);e.innerText=s.title,t.innerHTML=s.summary.title,n.innerHTML=s.summary.content,a.innerHTML=s.skills.title,o.innerHTML=s.contact.title,i.innerHTML=s.languages.title,l.innerHTML=s.education.title,c.innerHTML=s.experience.title,s.languages.items.forEach((function(e){const t=createLangItem(e);d.appendChild(t)})),s.education.items.forEach((function(e){const t=createEducationItem(e,m);u.appendChild(t)})),s.experience.items.forEach((function(e){const t=createResumeItem(e,m);r.appendChild(t)}))}));
