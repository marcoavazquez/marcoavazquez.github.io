const langs=["en","es"];async function getData(e){const t=await fetch("/data/"+e+".json");if(!t.ok)throw new Error("Error: "+t.status);return t.json()}function createResumeItem(e,t){const n=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div"),r=document.createElement("small"),o=document.createElement("div"),i=document.createElement("ul");return n.classList.add("xp"),a.classList.add("xp-place"),c.classList.add("xp-title"),r.classList.add("xp-date"),o.classList.add("xp-details"),n.appendChild(a),a.appendChild(c),a.appendChild(r),n.appendChild(o),o.appendChild(i),c.innerHTML=e.title+" - "+e.company,r.innerHTML=formatDate(e.date[0],t)+" - "+formatDate(e.date[1],t),e.details.forEach((e=>{const t=document.createElement("li");t.innerHTML=e.description,i.appendChild(t)})),n}function createLangItem(e){const t=document.createElement("li");return t.innerHTML=e,t}function createEducationItem(e,t){const n=document.createElement("li"),a=document.createElement("strong"),c=document.createElement("div"),r=document.createElement("small");return a.innerHTML=e.degree,c.innerHTML=e.school,r.innerHTML=formatDate(e.date[0],t)+" - "+formatDate(e.date[1],t),n.appendChild(a),n.appendChild(c),n.appendChild(r),n}function formatDate(e,t){if("today"===e)return"es"===t?"Hoy":"Today";return new Date(e+"-10").toLocaleString(t,{month:"short"})+" "+e.split("-")[0]}window.addEventListener("DOMContentLoaded",(async function(){const e=document.querySelector("#name"),t=document.querySelector("#title"),n=document.querySelector("#summary-title"),a=document.querySelector("#summary-content"),c=document.querySelector("#skills-title"),r=document.querySelector("#resume-title"),o=document.querySelector("#resume-content"),i=document.querySelector("#contact-title"),d=document.querySelector("#languages-title"),l=document.querySelector("#languages-content"),u=document.querySelector("#education-title"),m=document.querySelector("#education-content"),s=new URLSearchParams(window.location.search).get("lang"),p=langs.includes(s)?s:"en",L=await getData(p);e.innerHTML=L.name,t.innerText=L.title,n.innerHTML=L.summary.title,a.innerHTML=L.summary.content,c.innerHTML=L.skills.title,i.innerHTML=L.contact.title,d.innerHTML=L.languages.title,u.innerHTML=L.education.title,r.innerHTML=L.experience.title,L.languages.items.forEach((function(e){const t=createLangItem(e);l.appendChild(t)})),L.education.items.forEach((function(e){const t=createEducationItem(e,p);m.appendChild(t)})),L.experience.items.forEach((function(e){const t=createResumeItem(e,p);o.appendChild(t)}))}));
